<!DOCTYPE html>
<html>
	<head>
		<title>Easter Puzzle</title>

		<style>
			div { outline: 0px solid #FF0000;}

			.headlineContainer
			{
				width: 500px;
				height: 200px;
				float: left;
				border-radius: 10px;
				border: 5px solid rgba(100, 100, 100, 0.5);
				margin: 5px 0 0 5px;
				padding: 20px;
			}

			.headline
			{
				width: 480px;
				height: 180px;
				/*background */
			}

			.headline h1
			{
				color: rgba(255, 255, 255, 1);
			}
		</style>
	</head>

	<body>
		<div id="floridamanApp">
			<div class="headlineContainer" v-bind:style="">
				<div clas="headline">
					<h1>Florida Man {{ headlines[0]["actions_plural"][0] }} {{ headlines[0]["descriptors"][0] }} {{ headlines[0]["descriptors"][1] }} {{ headlines[0]["nouns"][0] }} for {{ headlines[0]["numbers"][0] }} {{ headlines[0]["units_time"][0] }}!</h1>
				</div>
			</div>

			<div class="headlineContainer" v-bind:style="">
				<div clas="headline">
					<h1>Florida Man {{ headlines[1]["actions_past"][0] }} by {{ headlines[1]["nouns"][0] }}  for {{ headlines[1]["actions_active"][0] }} {{ headlines[1]["nouns"][1] }}!</h1>
				</div>
			</div>
		</div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.18/vue.min.js"></script>

		<script>
			var app = new Vue
			(
				{
					el: "#floridamanApp",
					data:
					{
						headlines: 
						[
							{
								actions_plural: [""],
								descriptors: ["", ""],
								nouns: [""],
								numbers: [""],
								units_time: [""]
							},
							{
								actions_past: [""],
								nouns: ["", ""],
								actions_active: [""]
							}
						],
						templates: 
						[
							"Florida Man test_{{test}} #actions_plural1# #descriptors1# #descriptors2# #nouns1# for #numbers1# #units_time1#!",
							"Florida Man #actions_past1# by #nouns1# for #actions_active1# #nouns2#!",
							"Florida Man set to #actions1# #descriptors1# #descriptors2# #nouns1# in #numbers1# #units_time1#.",
							"Florida Man #actions_plural1# #numbers1# #units1# of #nouns_plural1# for #descriptors1# #descriptors2# #nouns1#",
							"Florida Man is #descriptors1# at #descriptors2# #descriptors3# situation.",
							"Florida Man unable to #actions1# #nouns1# due to #descriptors1# #nouns2#.",
							"Florida Man jailed for #actions_active1# #nouns1# and #actions_active2# #descriptors1# #nouns2#.",
							"Florida Man wins lawsuit involving #numbers1# #units1# of #descriptors1# #nouns_plural1#."
						],
						wordTypes:
						{	
							nouns: 
							[
								"alligator",
								"actor",
								"barmaid",
								"businessman",
								"clown",
								"cop",
								"dragonfly",
								"dwarf"
							],
							nouns_plural: 
							[
								"alligators",
								"actors",
								"barmaids",
								"businessmen",
								"clowns",
								"cops",
								"dragonflies",
								"dwarves"
							],
							numbers: 
							[
								"six",
								"thirteen",
								"twenty-three",
								"fifty-nine"
							],
							units: 
							[
								"bags",
								"crates",
								"pounds",
								"satchets",
								"trunks"
							],
							units_time: 
							[
								"days",
								"hours",
								"minutes",
								"weeks"
							],
							actions: 
							[
								"chase",
								"beat",
								"kill",
								"marry",
								"meet",
								"proposition",
								"question"
							],
							actions_past: 
							[
								"chased",
								"beaten",
								"killed",
								"married",
								"met",
								"propositioned",
								"questioned"
							],
							actions_plural: 
							[
								"chases",
								"beats",
								"kills",
								"marries",
								"meets",
								"propositions",
								"questions"
							],
							actions_active: 
							[
								"chasing",
								"beating",
								"killing",
								"marrying",
								"meeting",
								"propositioning",
								"questioning"
							],
							descriptors: 
							[
								"anxious",
								"articulate",
								"blind",
								"bulky",
								"chaste",
								"cranky",
								"dead",
								"dramatic",
								"enormous",
								"epic",
								"friendly",
								"furious",
								"generous",
								"gorgeous",
								"heavy",
								"huge",
								"impassive",
								"irate",
								"jovial",
								"jumpy",
								"kleptomaniac",
								"knowledgeable",
								"limber",
								"lurid",
								"monstrous",
								"mysterious"
							]
						}
					},
					methods:
					{
						fillHeadlineArrays: function(headlineIndex)
						{
							var keys = Object.keys(this.wordTypes);

							keys.forEach(
								(wordTypeIndex) => 
								{
									if (this.headlines[headlineIndex][wordTypeIndex])
									{
										for (let i = 0; i < this.headlines[headlineIndex][wordTypeIndex].length; i++)
										{
											var newWord = this.getOne(this.wordTypes[wordTypeIndex]);

											while (this.headlines[headlineIndex][wordTypeIndex].indexOf(newWord) != -1)
											{
												newWord = this.getOne(this.wordTypes[wordTypeIndex]);
											}

											this.headlines[headlineIndex][wordTypeIndex][i] = newWord;
										}
									}
								}
							);														
						},
						getOne: function(arr)
						{
							return arr[Math.floor((Math.random() * arr.length))];
						},
						getContent: function(template)
						{
							var content = template;
							var prefixes = ["nouns", "nouns_plural", "numbers", "units", "units_time", "actions", "actions_plural", "actions_past", "actions_active", "descriptors"];
 
							for (let i = 1; i <= 3; i++)
							{
								for (let j = 0; j < prefixes.length; j++)
								{
									if (content.indexOf("#" + prefixes[j] + i + "#") >= 0) content = this.getReplacedString(content, prefixes[j], i);
								}
							}

							return content;
						},
						getStyle: function()
						{

						}
					},
					created: function()
					{
						for (let i = 0; i < this.headlines.length; i++)
						{
							this.fillHeadlineArrays(i);
						}
					}
				}
			);
		</script>
	</body>
</html>